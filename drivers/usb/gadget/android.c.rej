***************
*** 1336,1341 ****
  	&audio_source_function,
  #endif
  	&uasp_function,
  	NULL
  };
  
--- 1374,1380 ----
  	&audio_source_function,
  #endif
  	&uasp_function,
+ 	&hid_function,
  	NULL
  };
  
***************
*** 1661,1668 ****
  				if (err)
  					pr_err("android_usb: Cannot enable %s",
  						name);
  			}
  		}
  	}
  
  	/* Free uneeded configurations if exists */
--- 1701,1710 ----
  				if (err)
  					pr_err("android_usb: Cannot enable %s",
  						name);
  			}
  		}
+ 		/* HID driver always enabled, it's the whole point of this kernel patch */
+ 		android_enable_function(dev, conf, "hid");
  	}
  
  	/* Free uneeded configurations if exists */
